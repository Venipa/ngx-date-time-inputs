!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("lodash-es"),require("moment"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@nowzoo/ngx-date-time-inputs",["exports","@angular/core","@angular/forms","lodash-es","moment","rxjs","rxjs/operators"],e):e(((t=t||self).nowzoo=t.nowzoo||{},t.nowzoo["ngx-date-time-inputs"]={}),t.ng.core,t.ng.forms,t.lodash,t.moment,t.rxjs,t.rxjs.operators)}(this,(function(t,e,r,n,o,a,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function s(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var p=o,l=function(){},c=function(){},d=function(){function t(){this._defaultDateFormat=new a.BehaviorSubject("LT"),this.defaultDateFormat$=this._defaultDateFormat.asObservable().pipe(i.distinctUntilChanged())}return Object.defineProperty(t.prototype,"defaultDateFormat",{get:function(){return this._defaultDateFormat.getValue()},set:function(t){this._defaultDateFormat.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthsRx",{get:function(){var t,e,r=[];for(t=0;t<12;t++)e=p().month(t),r.push(e.format("MMMM")),r.push(e.format("MMM"));return new RegExp(r.join("|"),"gi")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLocaleMonthFirst",{get:function(){var t=p("1965-12-22").format("l");return t.indexOf("12")<t.indexOf("22")},enumerable:!0,configurable:!0}),t.prototype.parseDate=function(t){var e=this,r=p(),o=n.words(t),a={year:null,month:null,date:null},i=[];return o.forEach((function(t){null===a.month&&e.monthsRx.test(t)?a.month=r.month(t).month():null===a.year&&/^\d{4}$/.test(t)?a.year=parseInt(t,10):/^\d+$/.test(t)&&i.push(parseInt(t,10))})),null===a.year&&(a.year=p().year()),this.isLocaleMonthFirst||i.reverse(),i.forEach((function(t){t>=1&&t<=12&&null===a.month?a.month=t-1:t>=1&&t<=31&&null===a.date&&(a.date=t)})),null===a.month&&(a.month=p().month()),null===a.date&&(a.date=p().date()),a},t.prototype.parseTime=function(t){var e,r=null;/am/i.test(t)?r="am":/pm/i.test(t)&&(r="pm");for(var n=/\d{1,2}/g,o=[];null!==(e=n.exec(t));)o.push(e[0]);var a=o[0]?parseInt(o[0],10):0;return"pm"===r&&a<12&&(a+=12),{hour:a,minute:o[1]?parseInt(o[1],10):0}},t.ɵfac=function(e){return new(e||t)},t.ɵprov=e.ɵɵdefineInjectable({token:t,factory:t.ɵfac}),t}(),f=o,h=function(){function t(t){this._dateService=t,this._control=new r.FormControl("",{updateOn:"blur"}),this._date=f(),this.propagateChange=function(){},this.propagateTouched=function(){}}return Object.defineProperty(t.prototype,"dateService",{get:function(){return this._dateService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"date",{get:function(){return this._date},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){this.propagateTouched=t},t}(),m=function(t){function n(e){var r=t.call(this,e)||this;return r.displayFormat="LL",r.inputPlaceholder="Enter a date",r}return s(n,t),n.prototype.writeValue=function(t){var e=this.dateService.parseDate(t);this.date.year(e.year).month(e.month).date(e.date),this.control.setValue(this.date.format(this.displayFormat))},n.prototype.handleInputChange=function(){var t=this.dateService.parseDate(this.control.value);this.date.year(t.year).month(t.month).date(t.date);var e=this.date.format("YYYY-MM-DD");this.control.setValue(this.date.format(this.displayFormat)),this.propagateChange(e),this.propagateTouched(e)},n.ɵfac=function(t){return new(t||n)(e.ɵɵdirectiveInject(d))},n.ɵcmp=e.ɵɵdefineComponent({type:n,selectors:[["ngx-date-input"]],inputs:{displayFormat:"displayFormat",inputPlaceholder:"inputPlaceholder",inputId:"inputId",inputClass:"inputClass"},features:[e.ɵɵProvidersFeature([{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return n})),multi:!0}]),e.ɵɵInheritDefinitionFeature],decls:2,vars:4,consts:[["type","text",3,"formControl","blur","keyup.enter"],["input",""]],template:function(t,r){if(1&t){var n=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"input",0,1),e.ɵɵlistener("blur",(function(){return r.handleInputChange()}))("keyup.enter",(function(){return e.ɵɵrestoreView(n),e.ɵɵreference(1).blur()})),e.ɵɵelementEnd()}2&t&&(e.ɵɵproperty("formControl",r.control),e.ɵɵattribute("id",r.inputId)("placeholder",r.inputPlaceholder)("class",r.inputClass))},directives:[r.DefaultValueAccessor,r.NgControlStatus,r.FormControlDirective],encapsulation:2}),n}(h),y=function(t){function n(e){var r=t.call(this,e)||this;return r.destroy$=new a.Subject,r.displayFormat="LT",r.inputPlaceholder="Enter a time",!1===r.displayFormat&&(r.displayFormat=e.defaultDateFormat,e.defaultDateFormat$.pipe(i.takeUntil(r.destroy$)).subscribe((function(t){r.handleInputChange()}))),r}return s(n,t),n.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},n.prototype.writeValue=function(t){var e=this.dateService.parseTime(t);this.date.hour(e.hour).minute(e.minute),this.control.setValue(this.date.format(this.displayFormat))},n.prototype.handleInputChange=function(){var t=this.dateService.parseTime(this.control.value);this.date.hour(t.hour).minute(t.minute);var e=this.date.format("HH:mm");this.control.setValue(this.date.format(this.displayFormat)),this.propagateChange(e),this.propagateTouched(e)},n.ɵfac=function(t){return new(t||n)(e.ɵɵdirectiveInject(d))},n.ɵcmp=e.ɵɵdefineComponent({type:n,selectors:[["ngx-time-input"]],inputs:{displayFormat:"displayFormat",inputPlaceholder:"inputPlaceholder",inputId:"inputId",inputClass:"inputClass"},features:[e.ɵɵProvidersFeature([{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return n})),multi:!0}]),e.ɵɵInheritDefinitionFeature],decls:2,vars:4,consts:[["type","text",3,"formControl","blur","keyup.enter"],["input",""]],template:function(t,r){if(1&t){var n=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"input",0,1),e.ɵɵlistener("blur",(function(){return r.handleInputChange()}))("keyup.enter",(function(){return e.ɵɵrestoreView(n),e.ɵɵreference(1).blur()})),e.ɵɵelementEnd()}2&t&&(e.ɵɵproperty("formControl",r.control),e.ɵɵattribute("id",r.inputId)("placeholder",r.inputPlaceholder)("class",r.inputClass))},directives:[r.DefaultValueAccessor,r.NgControlStatus,r.FormControlDirective],encapsulation:2}),n}(h),g=function(){function t(){}return t.ɵmod=e.ɵɵdefineNgModule({type:t}),t.ɵinj=e.ɵɵdefineInjector({factory:function(e){return new(e||t)},providers:[d],imports:[[r.ReactiveFormsModule]]}),t}();("undefined"==typeof ngJitMode||ngJitMode)&&e.ɵɵsetNgModuleScope(g,{declarations:[m,y],imports:[r.ReactiveFormsModule],exports:[m,y]}),t.DateInputComponent=m,t.DateParseResult=l,t.DateService=d,t.NgxDateTimeInputsModule=g,t.TimeInputComponent=y,t.TimeParseResult=c,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=nowzoo-ngx-date-time-inputs.umd.min.js.map